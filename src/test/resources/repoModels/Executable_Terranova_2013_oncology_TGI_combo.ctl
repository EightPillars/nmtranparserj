; Script generated by the pharmML2Nmtran Converter v.0.4.0
; Source 	: PharmML 0.8.1
; Target 	: NMTRAN 7.3.0
; Model 	: Executable_Terranova_2013_oncology_TGI_combo
; Model Name: Generated from MDL. MOG ID: terranova_2013
; Dated 	: Tue Sep 20 02:10:43 CEST 2016

$PROBLEM Generated from MDL. MOG ID: terranova_2013

$INPUT  ID TIME DV AMT CMT MDV
$DATA "Simulated_terranova_2013_data.csv" IGNORE=@
$SUBS ADVAN13 TOL=9

$MODEL 
COMP (COMP1) 	;Q1A
COMP (COMP2) 	;Q2A
COMP (COMP3) 	;Q1B
COMP (COMP4) 	;Q2B
COMP (COMP5) 	;X00
COMP (COMP6) 	;X10
COMP (COMP7) 	;X20
COMP (COMP8) 	;X30
COMP (COMP9) 	;X01
COMP (COMP10) 	;X11
COMP (COMP11) 	;X21
COMP (COMP12) 	;X31
COMP (COMP13) 	;X02
COMP (COMP14) 	;X12
COMP (COMP15) 	;X22
COMP (COMP16) 	;X32
COMP (COMP17) 	;X03
COMP (COMP18) 	;X13
COMP (COMP19) 	;X23
COMP (COMP20) 	;X33



$PK 
CV = THETA(1)
GAMMA_POP = THETA(2)
LAMBDA0_POP = THETA(3)
LAMBDA1_POP = THETA(4)
K1A_POP = THETA(5)
K2A_POP = THETA(6)
K1B_POP = THETA(7)
K2B_POP = THETA(8)
W0_POP = THETA(9)
K10A_POP = THETA(10)
K12A_POP = THETA(11)
K21A_POP = THETA(12)
V1A_POP = THETA(13)
K10B_POP = THETA(14)
K12B_POP = THETA(15)
K21B_POP = THETA(16)
V1B_POP = THETA(17)



LAMBDA0 = LAMBDA0_POP

LAMBDA1 = LAMBDA1_POP

K1A = K1A_POP

K2A = K2A_POP

K1B = K1B_POP

K2B = K2B_POP

W0 = W0_POP

GAMMA = GAMMA_POP

K10A = K10A_POP

K12A = K12A_POP

K21A = K21A_POP

V1A = V1A_POP

K10B = K10B_POP

K12B = K12B_POP

K21B = K21B_POP

V1B = V1B_POP

A_0(1) = 0
A_0(2) = 0
A_0(3) = 0
A_0(4) = 0
A_0(5) = W0
A_0(6) = 0
A_0(7) = 0
A_0(8) = 0
A_0(9) = 0
A_0(10) = 0
A_0(11) = 0
A_0(12) = 0
A_0(13) = 0
A_0(14) = 0
A_0(15) = 0
A_0(16) = 0
A_0(17) = 0
A_0(18) = 0
A_0(19) = 0
A_0(20) = 0

$DES 
Q1A_DES = A(1)
Q2A_DES = A(2)
Q1B_DES = A(3)
Q2B_DES = A(4)
X00_DES = A(5)
X10_DES = A(6)
X20_DES = A(7)
X30_DES = A(8)
X01_DES = A(9)
X11_DES = A(10)
X21_DES = A(11)
X31_DES = A(12)
X02_DES = A(13)
X12_DES = A(14)
X22_DES = A(15)
X32_DES = A(16)
X03_DES = A(17)
X13_DES = A(18)
X23_DES = A(19)
X33_DES = A(20)
PSI_DES = 20
CA_DES = (Q1A_DES/V1A)
CB_DES = (Q1B_DES/V1B)
WTOT_DES = (((((((((((((((X00_DES+X10_DES)+X20_DES)+X30_DES)+X01_DES)+X11_DES)+X21_DES)+X31_DES)+X02_DES)+X12_DES)+X22_DES)+X32_DES)+X03_DES)+X13_DES)+X23_DES)+X33_DES)
DADT(1) = ((K21A*Q2A_DES)-((K10A+K12A)*Q1A_DES))
DADT(2) = ((K12A*Q1A_DES)-(K21A*Q2A_DES))
DADT(3) = ((K21B*Q2B_DES)-((K10B+K12B)*Q1B_DES))
DADT(4) = ((K12B*Q1B_DES)-(K21B*Q2B_DES))
DADT(5) = (((((LAMBDA0*X00_DES)/((1+(((WTOT_DES*LAMBDA0)/LAMBDA1)**PSI_DES))**(1/PSI_DES)))-((K2A*CA_DES)*X00_DES))-((K2B*CB_DES)*X00_DES))-(((GAMMA*CA_DES)*CB_DES)*X00_DES))
DADT(6) = ((((K2A*CA_DES)*X00_DES)-(K1A*X10_DES))-((K2B*CB_DES)*X10_DES))
DADT(7) = (((K1A*X10_DES)-(K1A*X20_DES))-((K2B*CB_DES)*X20_DES))
DADT(8) = (((K1A*X20_DES)-(K1A*X30_DES))-((K2B*CB_DES)*X30_DES))
DADT(9) = ((((K2B*CB_DES)*X00_DES)-((K2A*CA_DES)*X01_DES))-(K1B*X01_DES))
DADT(10) = ((((((K2B*CB_DES)*X10_DES)+((K2A*CA_DES)*X01_DES))-(K1A*X11_DES))-(K1B*X11_DES))+(((GAMMA*CA_DES)*CB_DES)*X00_DES))
DADT(11) = ((((K1A*X11_DES)+((K2B*CB_DES)*X20_DES))-(K1A*X21_DES))-(K1B*X21_DES))
DADT(12) = ((((K1A*X21_DES)+((K2B*CB_DES)*X30_DES))-(K1A*X31_DES))-(K1B*X31_DES))
DADT(13) = (((K1B*X01_DES)-((K2A*CA_DES)*X02_DES))-(K1B*X02_DES))
DADT(14) = ((((K1B*X11_DES)+((K2A*CA_DES)*X02_DES))-(K1A*X12_DES))-(K1B*X12_DES))
DADT(15) = ((((K1A*X12_DES)+(K1B*X21_DES))-(K1A*X22_DES))-(K1B*X22_DES))
DADT(16) = ((((K1A*X22_DES)+(K1B*X31_DES))-(K1A*X32_DES))-(K1B*X32_DES))
DADT(17) = (((K1B*X02_DES)-((K2A*CA_DES)*X03_DES))-(K1B*X03_DES))
DADT(18) = ((((K1B*X12_DES)+((K2A*CA_DES)*X03_DES))-(K1A*X13_DES))-(K1B*X13_DES))
DADT(19) = ((((K1A*X13_DES)+(K1B*X22_DES))-(K1A*X23_DES))-(K1B*X23_DES))
DADT(20) = ((((K1A*X23_DES)+(K1B*X32_DES))-(K1A*X33_DES))-(K1B*X33_DES))

$ERROR 
EPS_RES_W = EPS(1)

Q1A = A(1)
Q2A = A(2)
Q1B = A(3)
Q2B = A(4)
X00 = A(5)
X10 = A(6)
X20 = A(7)
X30 = A(8)
X01 = A(9)
X11 = A(10)
X21 = A(11)
X31 = A(12)
X02 = A(13)
X12 = A(14)
X22 = A(15)
X32 = A(16)
X03 = A(17)
X13 = A(18)
X23 = A(19)
X33 = A(20)
PSI = 20
CA = (Q1A/V1A)
CB = (Q1B/V1B)
WTOT = (((((((((((((((X00+X10)+X20)+X30)+X01)+X11)+X21)+X31)+X02)+X12)+X22)+X32)+X03)+X13)+X23)+X33)
IPRED = WTOT
W = CV*IPRED
Y = IPRED+W*EPS_RES_W
IRES = DV - IPRED
IWRES = IRES/W

$THETA 
( 0.0 , 0.1 )	;CV
(-2.0 )	;GAMMA_POP
(0.149  FIX )	;LAMBDA0_POP
(0.203  FIX )	;LAMBDA1_POP
(2.24  FIX )	;K1a_POP
(0.0512  FIX )	;K2a_POP
(1.68  FIX )	;K1b_POP
(0.0984  FIX )	;K2b_POP
(0.0566  FIX )	;W0_POP
(28.1  FIX )	;K10A_POP
(4.94  FIX )	;K12A_POP
(5.58  FIX )	;K21A_POP
(1.42  FIX )	;V1A_POP
(97.3  FIX )	;K10B_POP
(20.4  FIX )	;K12B_POP
(45.2  FIX )	;K21B_POP
(0.887  FIX )	;V1B_POP

$OMEGA 0 FIX

$SIGMA 
1.0 FIX


$EST METHOD=COND NSIG=3 SIGL=9 MAXEVALS=9999 PRINT=10 NOABORT

$TABLE  ID TIME AMT CMT MDV PRED RES WRES DV IPRED IRES IWRES Y NOAPPEND NOPRINT FILE=sdtab

$TABLE  ID LAMBDA0 LAMBDA1 K1A K2A K1B K2B W0 GAMMA K10A K12A K21A V1A K10B K12B K21B V1B NOAPPEND NOPRINT FILE=patab


