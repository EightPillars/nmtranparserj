; Script generated by the pharmML2Nmtran Converter v.0.4.0
; Source 	: PharmML 0.8.1
; Target 	: NMTRAN 7.3.0
; Model 	: Executable_Friedrich_2014_LDL
; Model Name: Generated from MDL. MOG ID: friedrich_ldl_mog
; Dated 	: Wed Sep 07 13:08:58 CEST 2016

$PROBLEM Generated from MDL. MOG ID: friedrich_ldl_mog

$INPUT  ID TIME DV H20B G39B F95B AUC GRP WEEK
$DATA "Simulated_data_LDL_full.csv" IGNORE=@

$PRED 
POP_EMAX = THETA(1)
EAUC50 = THETA(2)
STAT = THETA(3)
INTER = THETA(4)
BETA_APOA1_EMAX = THETA(5)
BETA_LDL_PLAC = THETA(6)
BETA_TRIG_PLAC = THETA(7)
RUV_ADD = THETA(8)

ETA_PLAC = ETA(1)


GRPPLAC = 0 
IF (G39B.NE.0.AND.F95B.NE.0) THEN
	GRPPLAC = (((BETA_LDL_PLAC*(G39B-146.56))+((F95B/120.01)**BETA_TRIG_PLAC))-1) 
ENDIF
IF (G39B.NE.0.AND.F95B.EQ.0) THEN
	GRPPLAC = (BETA_LDL_PLAC*(G39B-146.56)) 
ENDIF
IF (G39B.EQ.0.AND.F95B.NE.0) THEN
	GRPPLAC = (((F95B/120.01)**BETA_TRIG_PLAC)-1) 
ENDIF

 


EMAX = POP_EMAX 
IF (H20B.NE.0) THEN
	EMAX = (POP_EMAX*((H20B/153)**BETA_APOA1_EMAX)) 
ENDIF

 


MU_1 =  GRPPLAC 
PLAC =  MU_1 + ETA(1);


I1 = 0 
IF (GRP.EQ.5.OR.GRP.EQ.7.OR.GRP.EQ.9) THEN
	I1 = 1 
ENDIF

 

I2 = 0 
IF (GRP.EQ.6.OR.GRP.EQ.8.OR.GRP.EQ.10) THEN
	I2 = 1 
ENDIF

 
LY = ((EMAX*AUC)/(EXP(EAUC50)+AUC))
LDL_PRED = (((PLAC+(STAT*I1))+(LY*(1-I2)))+(((INTER*I2)*100)*(1-((1+(STAT/100))*(1+(LY/100))))))

EPS_Y = EPS(1)

IPRED = LDL_PRED
W = RUV_ADD
Y = IPRED+W*EPS_Y
IRES = DV - IPRED
IWRES = IRES/W

$THETA 
( -100.0 , -40.0 , 0.0 )	;POP_EMAX
( 0.0 , 10.0 )	;EAUC50
( -100.0 , -30.0 , 0.0 )	;STAT
( -4.0 , -1.0 , 4.0 )	;INTER
( -10.0 , -1.0 , 10.0 )	;BETA_APOA1_EMAX
( -10.0 , 0.004 , 10.0 )	;BETA_LDL_PLAC
( -10.0 , 2.0 , 10.0 )	;BETA_TRIG_PLAC
(1.0  FIX )	;RUV_ADD

$OMEGA 
(100.0 )	;PPV_PLAC

$SIGMA 
100.0	;SIGMA_RES_Y


$EST METHOD=COND NSIG=3 SIGL=9 MAXEVALS=9999 PRINT=10 NOABORT

$TABLE  ID TIME H20B G39B F95B AUC GRP WEEK PRED RES WRES DV IPRED IRES IWRES Y NOAPPEND NOPRINT FILE=sdtab

$TABLE  ID PLAC ETA_PLAC NOAPPEND NOPRINT FILE=patab

$TABLE  ID H20B G39B F95B AUC GRP WEEK NOAPPEND NOPRINT FILE=cotab


