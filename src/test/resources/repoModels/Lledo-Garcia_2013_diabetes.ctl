; Script generated by the pharmML2Nmtran Converter v.0.4.0
; Source 	: PharmML 0.8.1
; Target 	: NMTRAN 7.3.0
; Model 	: Lledo-Garcia_2013_diabetes
; Model Name: Generated from MDL. MOG ID: lledo2013_mog
; Dated 	: Thu Sep 08 18:41:18 CEST 2016

$PROBLEM Generated from MDL. MOG ID: lledo2013_mog

$INPUT  ID TIME DV AG EV=DROP
$DATA "Simulated_Dynamic_MPG.csv" IGNORE=@
$SUBS ADVAN13 TOL=6

$MODEL 
COMP (COMP1) 	;A1
COMP (COMP2) 	;A2
COMP (COMP3) 	;A3
COMP (COMP4) 	;A14
COMP (COMP5) 	;A4
COMP (COMP6) 	;A5
COMP (COMP7) 	;A15
COMP (COMP8) 	;A16
COMP (COMP9) 	;A6
COMP (COMP10) 	;A7
COMP (COMP11) 	;A17
COMP (COMP12) 	;A18
COMP (COMP13) 	;A8
COMP (COMP14) 	;A9
COMP (COMP15) 	;A10
COMP (COMP16) 	;A11
COMP (COMP17) 	;A12
COMP (COMP18) 	;A13
COMP (COMP19) 	;A19
COMP (COMP20) 	;A20
COMP (COMP21) 	;A21
COMP (COMP22) 	;A22
COMP (COMP23) 	;A23
COMP (COMP24) 	;A24
COMP (COMP25) 	;A25



$PK 
GAMMA = THETA(1)
POP_LS = THETA(2)
IIV_LS = THETA(3)
POP_KG = THETA(4)
POP_LSP = THETA(5)
IIV_LSP = THETA(6)
CV_HBA1C = THETA(7)

ETA_LS = ETA(1)
ETA_LSP = ETA(2)

OMEGA_LS = 0.0 
OMEGA_LSP = 0.0 

KIN = 1

AGLS = ((149/AG)**GAMMA)

LS = ((POP_LS*AGLS)*EXP((IIV_LS*ETA_LS)))

NC = 12

KTR = (NC/LS)

KG = (POP_KG/1000)

LSP = (POP_LSP*EXP((IIV_LSP*ETA_LSP)))

PREC = EXP(((-(KG)*AG)*LSP))

A2_0 = ((PREC*KIN)/(KTR+(KG*AG)))

A3_0 = ((A2_0*KTR)/(KTR+(KG*AG)))

A4_0 = ((A3_0*KTR)/(KTR+(KG*AG)))

A5_0 = ((A4_0*KTR)/(KTR+(KG*AG)))

A6_0 = ((A5_0*KTR)/(KTR+(KG*AG)))

A7_0 = ((A6_0*KTR)/(KTR+(KG*AG)))

A8_0 = ((A7_0*KTR)/(KTR+(KG*AG)))

A9_0 = ((A8_0*KTR)/(KTR+(KG*AG)))

A10_0 = ((A9_0*KTR)/(KTR+(KG*AG)))

A11_0 = ((A10_0*KTR)/(KTR+(KG*AG)))

A12_0 = ((A11_0*KTR)/(KTR+(KG*AG)))

A13_0 = ((A12_0*KTR)/(KTR+(KG*AG)))

A14_0 = ((((A2_0*KG)*AG)+(KIN*(1-PREC)))/KTR)

A15_0 = (((A14_0*KTR)+((A3_0*KG)*AG))/KTR)

A16_0 = (((A15_0*KTR)+((A4_0*KG)*AG))/KTR)

A17_0 = (((A16_0*KTR)+((A5_0*KG)*AG))/KTR)

A18_0 = (((A17_0*KTR)+((A6_0*KG)*AG))/KTR)

A19_0 = (((A18_0*KTR)+((A7_0*KG)*AG))/KTR)

A20_0 = (((A19_0*KTR)+((A8_0*KG)*AG))/KTR)

A21_0 = (((A20_0*KTR)+((A9_0*KG)*AG))/KTR)

A22_0 = (((A21_0*KTR)+((A10_0*KG)*AG))/KTR)

A23_0 = (((A22_0*KTR)+((A11_0*KG)*AG))/KTR)

A24_0 = (((A23_0*KTR)+((A12_0*KG)*AG))/KTR)

A25_0 = (((A24_0*KTR)+((A13_0*KG)*AG))/KTR)

A_0(1) = AG
A_0(2) = A2_0
A_0(3) = A3_0
A_0(4) = A14_0
A_0(5) = A4_0
A_0(6) = A5_0
A_0(7) = A15_0
A_0(8) = A16_0
A_0(9) = A6_0
A_0(10) = A7_0
A_0(11) = A17_0
A_0(12) = A18_0
A_0(13) = A8_0
A_0(14) = A9_0
A_0(15) = A10_0
A_0(16) = A11_0
A_0(17) = A12_0
A_0(18) = A13_0
A_0(19) = A19_0
A_0(20) = A20_0
A_0(21) = A21_0
A_0(22) = A22_0
A_0(23) = A23_0
A_0(24) = A24_0
A_0(25) = A25_0

$DES 
A1_DES = A(1)
A2_DES = A(2)
A3_DES = A(3)
A14_DES = A(4)
A4_DES = A(5)
A5_DES = A(6)
A15_DES = A(7)
A16_DES = A(8)
A6_DES = A(9)
A7_DES = A(10)
A17_DES = A(11)
A18_DES = A(12)
A8_DES = A(13)
A9_DES = A(14)
A10_DES = A(15)
A11_DES = A(16)
A12_DES = A(17)
A13_DES = A(18)
A19_DES = A(19)
A20_DES = A(20)
A21_DES = A(21)
A22_DES = A(22)
A23_DES = A(23)
A24_DES = A(24)
A25_DES = A(25)
NON_DES = (((((((((((A2_DES+A3_DES)+A4_DES)+A5_DES)+A6_DES)+A7_DES)+A8_DES)+A9_DES)+A10_DES)+A11_DES)+A12_DES)+A13_DES)
GLY_DES = (((((((((((A14_DES+A15_DES)+A16_DES)+A17_DES)+A18_DES)+A19_DES)+A20_DES)+A21_DES)+A22_DES)+A23_DES)+A24_DES)+A25_DES)
TOT_DES = (NON_DES+GLY_DES)
HBA1C_DES = ((GLY_DES/TOT_DES)*100)
DADT(2) = ((KIN*PREC)-(A2_DES*(KTR+(KG*AG))))
DADT(3) = (((A2_DES-A3_DES)*KTR)-((A3_DES*KG)*AG))
DADT(4) = (((KIN*(1-PREC))-(A14_DES*KTR))+((A2_DES*KG)*AG))
DADT(5) = (((A3_DES-A4_DES)*KTR)-((A4_DES*KG)*AG))
DADT(6) = (((A4_DES-A5_DES)*KTR)-((A5_DES*KG)*AG))
DADT(7) = (((A14_DES-A15_DES)*KTR)+((A3_DES*KG)*AG))
DADT(8) = (((A15_DES-A16_DES)*KTR)+((A4_DES*KG)*AG))
DADT(9) = (((A5_DES-A6_DES)*KTR)-((A6_DES*KG)*AG))
DADT(10) = (((A6_DES-A7_DES)*KTR)-((A7_DES*KG)*AG))
DADT(11) = (((A16_DES-A17_DES)*KTR)+((A5_DES*KG)*AG))
DADT(12) = (((A17_DES-A18_DES)*KTR)+((A6_DES*KG)*AG))
DADT(13) = (((A7_DES-A8_DES)*KTR)-((A8_DES*KG)*AG))
DADT(14) = (((A8_DES-A9_DES)*KTR)-((A9_DES*KG)*AG))
DADT(15) = (((A9_DES-A10_DES)*KTR)-((A10_DES*KG)*AG))
DADT(16) = (((A10_DES-A11_DES)*KTR)-((A11_DES*KG)*AG))
DADT(17) = (((A11_DES-A12_DES)*KTR)-((A12_DES*KG)*AG))
DADT(18) = (((A12_DES-A13_DES)*KTR)-((A13_DES*KG)*AG))
DADT(19) = (((A18_DES-A19_DES)*KTR)+((A7_DES*KG)*AG))
DADT(20) = (((A19_DES-A20_DES)*KTR)+((A8_DES*KG)*AG))
DADT(21) = (((A20_DES-A21_DES)*KTR)+((A9_DES*KG)*AG))
DADT(22) = (((A21_DES-A22_DES)*KTR)+((A10_DES*KG)*AG))
DADT(23) = (((A22_DES-A23_DES)*KTR)+((A11_DES*KG)*AG))
DADT(24) = (((A23_DES-A24_DES)*KTR)+((A12_DES*KG)*AG))
DADT(25) = (((A24_DES-A25_DES)*KTR)+((A13_DES*KG)*AG))

$ERROR 
EPS_HBA1C = EPS(1)

A1 = A(1)
A2 = A(2)
A3 = A(3)
A14 = A(4)
A4 = A(5)
A5 = A(6)
A15 = A(7)
A16 = A(8)
A6 = A(9)
A7 = A(10)
A17 = A(11)
A18 = A(12)
A8 = A(13)
A9 = A(14)
A10 = A(15)
A11 = A(16)
A12 = A(17)
A13 = A(18)
A19 = A(19)
A20 = A(20)
A21 = A(21)
A22 = A(22)
A23 = A(23)
A24 = A(24)
A25 = A(25)
NON = (((((((((((A2+A3)+A4)+A5)+A6)+A7)+A8)+A9)+A10)+A11)+A12)+A13)
GLY = (((((((((((A14+A15)+A16)+A17)+A18)+A19)+A20)+A21)+A22)+A23)+A24)+A25)
TOT = (NON+GLY)
HBA1C = ((GLY/TOT)*100)
IPRED = HBA1C
W = CV_HBA1C*IPRED
Y = IPRED+W*EPS_HBA1C
IRES = DV - IPRED
IWRES = IRES/W

$THETA 
(0.381  FIX )	;GAMMA
(91.7  FIX )	;POP_LS
(0.0822  FIX )	;IIV_LS
(0.00837  FIX )	;POP_KG
(8.2  FIX )	;POP_LSP
(0.115  FIX )	;IIV_LSP
(0.0227  FIX )	;CV_HBA1C

$OMEGA 
(1.0  FIX )	;OMEGA_LS
(1.0  FIX )	;OMEGA_LSP

$SIGMA 
1.0 FIX	;SIGMA_RES


$EST METHOD=SAEM AUTO=1 PRINT=100 CINTERVAL=30 ATOL=6 SIGL=6

$TABLE  ID TIME AG PRED RES WRES DV IPRED IRES IWRES Y NOAPPEND NOPRINT FILE=sdtab

$TABLE  ID KIN AGLS LS NC KTR KG LSP PREC A2_0 A3_0 A4_0 A5_0 A6_0 A7_0 A8_0 A9_0 A10_0 A11_0 A12_0 A13_0 A14_0 A15_0 A16_0 A17_0 A18_0 A19_0 A20_0 A21_0 A22_0 A23_0 A24_0 A25_0 ETA_LS ETA_LSP NOAPPEND NOPRINT FILE=patab

$TABLE  ID AG NOAPPEND NOPRINT FILE=cotab


