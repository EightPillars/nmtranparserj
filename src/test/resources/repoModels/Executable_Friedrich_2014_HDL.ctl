; Script generated by the pharmML2Nmtran Converter v.0.4.0
; Source 	: PharmML 0.8.1
; Target 	: NMTRAN 7.3.0
; Model 	: Executable_Friedrich_2014_HDL
; Model Name: Generated from MDL. MOG ID: friedrich__mog
; Dated 	: Wed Sep 07 17:39:47 CEST 2016

$PROBLEM Generated from MDL. MOG ID: friedrich__mog

$INPUT  ID TIME DV G43B AUC GRP WEEK
$DATA "Simulated_data_HDL_full.csv" IGNORE=@

$PRED 
POP_EMAX = THETA(1)
POP_K = THETA(2)
POP_EC50 = THETA(3)
BETA_G43B_EAUC50 = THETA(4)
POP_PLAC = THETA(5)
STAT = THETA(6)
RUV_ADD = THETA(7)

ETA_EMAX = ETA(1)
ETA_PLAC = ETA(2)
ETA_K = ETA(3)

EAUC50 = (POP_EC50*EXP((BETA_G43B_EAUC50*(G43B-52.2)))) 

MU_1 =  POP_EMAX 
EMAX =  MU_1 + ETA(1);

MU_2 =  POP_PLAC 
PLAC =  MU_2 + ETA(2);

MU_3 = LOG(POP_K)
NM_K =  EXP(MU_3 + ETA(3)) ;


I1 = 0 
IF (GRP.EQ.5.OR.GRP.EQ.6.OR.GRP.EQ.7.OR.GRP.EQ.8.OR.GRP.EQ.9.OR.GRP.EQ.10) THEN
	I1 = 1 
ENDIF

 
HDL_PRED = ((PLAC+(STAT*I1))+(((EMAX*AUC)/(EXP(EAUC50)+AUC))*(1-EXP((-(NM_K)*TIME)))))

EPS_Y = EPS(1)

IPRED = HDL_PRED
W = RUV_ADD
Y = IPRED+W*EPS_Y
IRES = DV - IPRED
IWRES = IRES/W

$THETA 
( 1.0 , 150.0 )	;POP_EMAX
( 0.0 , 0.005 )	;POP_K
( 1.0 , 8.0 )	;POP_EC50
(0.001 )	;BETA_G43b_EAUC50
(0.0  FIX )	;POP_PLAC
(0.0  FIX )	;STAT
(1.0  FIX )	;RUV_ADD

$OMEGA 
(100.0 )	;PPV_EMAX
(100.0 )	;PPV_PLAC
(0.5 )	;PPV_K

$SIGMA 
200.0	;SIGMA_RES_Y


$EST METHOD=COND NSIG=3 SIGL=9 MAXEVALS=9999 PRINT=10 NOABORT

$TABLE  ID TIME G43B AUC GRP WEEK PRED RES WRES DV IPRED IRES IWRES Y NOAPPEND NOPRINT FILE=sdtab

$TABLE  ID EMAX PLAC NM_K ETA_EMAX ETA_PLAC ETA_K NOAPPEND NOPRINT FILE=patab

$TABLE  ID G43B AUC GRP WEEK NOAPPEND NOPRINT FILE=cotab


