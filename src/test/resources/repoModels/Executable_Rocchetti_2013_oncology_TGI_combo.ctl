; Script generated by the pharmML2Nmtran Converter v.0.4.0
; Source 	: PharmML 0.8.1
; Target 	: NMTRAN 7.3.0
; Model 	: Executable_Rocchetti_2013_oncology_TGI_combo
; Model Name: Generated from MDL. MOG ID: rocchetti2013
; Dated 	: Tue Sep 20 18:08:56 CEST 2016

$PROBLEM Generated from MDL. MOG ID: rocchetti2013

$INPUT  ID TIME DV AMT CMT MDV
$DATA "Simulated_rocchetti2013_data.csv" IGNORE=@
$SUBS ADVAN13 TOL=9

$MODEL 
COMP (COMP1) 	;Q0_A
COMP (COMP2) 	;Q0_B
COMP (COMP3) 	;Q2_B
COMP (COMP4) 	;Q1_B
COMP (COMP5) 	;Q1_A
COMP (COMP6) 	;Z0
COMP (COMP7) 	;Z1
COMP (COMP8) 	;Z2
COMP (COMP9) 	;Z3



$PK 
CV = THETA(1)
POP_IC50COMBO = THETA(2)
POP_LAMBDA0 = THETA(3)
POP_LAMBDA1 = THETA(4)
POP_W0 = THETA(5)
POP_K1 = THETA(6)
POP_K2 = THETA(7)
POP_IC50 = THETA(8)
POP_KA_A = THETA(9)
POP_KE_A = THETA(10)
POP_FV1_A = THETA(11)
POP_KA_B = THETA(12)
POP_KE_B = THETA(13)
POP_K21 = THETA(14)
POP_K12 = THETA(15)
POP_FV1_B = THETA(16)
POP_EMAX = THETA(17)



LAMBDA0 = POP_LAMBDA0

LAMBDA1 = POP_LAMBDA1

W0 = POP_W0

K1 = POP_K1

K2 = POP_K2

IC50 = POP_IC50

IC50COMBO = POP_IC50COMBO

KA_A = POP_KA_A

KE_A = POP_KE_A

FV1_A = POP_FV1_A

KA_B = POP_KA_B

KE_B = POP_KE_B

K21 = POP_K21

K12 = POP_K12

FV1_B = POP_FV1_B

EMAX = POP_EMAX

A_0(1) = 0
A_0(2) = 0
A_0(3) = 0
A_0(4) = 0
A_0(5) = 0
A_0(6) = W0
A_0(7) = 0
A_0(8) = 0
A_0(9) = 0

$DES 
Q0_A_DES = A(1)
Q0_B_DES = A(2)
Q2_B_DES = A(3)
Q1_B_DES = A(4)
Q1_A_DES = A(5)
Z0_DES = A(6)
Z1_DES = A(7)
Z2_DES = A(8)
Z3_DES = A(9)
PSI_DES = 20
C1_B_DES = (Q1_B_DES*FV1_B)
C1_A_DES = (Q1_A_DES*FV1_A)
K2INH_DES = (K2*(1-(C1_A_DES/(C1_A_DES+IC50COMBO))))
WTOT_DES = (((Z0_DES+Z1_DES)+Z2_DES)+Z3_DES)
DADT(1) = (-(KA_A)*Q0_A_DES)
DADT(2) = (-(KA_B)*Q0_B_DES)
DADT(3) = ((K12*Q1_B_DES)-(K21*Q2_B_DES))
DADT(4) = (((KA_B*Q0_B_DES)-((K12+KE_B)*Q1_B_DES))+(K21*Q2_B_DES))
DADT(5) = ((KA_A*Q0_A_DES)-(KE_A*Q1_A_DES))
DADT(6) = ((((LAMBDA0*Z0_DES)/((1+(((WTOT_DES*LAMBDA0)/LAMBDA1)**PSI_DES))**(1/PSI_DES)))*(1-((EMAX*C1_A_DES)/(C1_A_DES+IC50))))-((K2INH_DES*C1_B_DES)*Z0_DES))
DADT(7) = (((K2INH_DES*C1_B_DES)*Z0_DES)-(K1*Z1_DES))
DADT(8) = ((K1*Z1_DES)-(K1*Z2_DES))
DADT(9) = ((K1*Z2_DES)-(K1*Z3_DES))

$ERROR 
EPS_RES_W = EPS(1)

Q0_A = A(1)
Q0_B = A(2)
Q2_B = A(3)
Q1_B = A(4)
Q1_A = A(5)
Z0 = A(6)
Z1 = A(7)
Z2 = A(8)
Z3 = A(9)
PSI = 20
C1_B = (Q1_B*FV1_B)
C1_A = (Q1_A*FV1_A)
K2INH = (K2*(1-(C1_A/(C1_A+IC50COMBO))))
WTOT = (((Z0+Z1)+Z2)+Z3)
IPRED = WTOT
W = CV*IPRED
Y = IPRED+W*EPS_RES_W
IRES = DV - IPRED
IWRES = IRES/W

$THETA 
( 0.0 , 0.1 )	;CV
( 0.0 , 7.0 )	;POP_IC50COMBO
(0.14  FIX )	;POP_LAMBDA0
(0.129  FIX )	;POP_LAMBDA1
(0.062  FIX )	;POP_W0
(3.54  FIX )	;POP_K1
(0.221  FIX )	;POP_K2
(2.02  FIX )	;POP_IC50
(2.69  FIX )	;POP_KA_A
(0.115  FIX )	;POP_KE_A
(8.4  FIX )	;POP_FV1_A
(18.8  FIX )	;POP_KA_B
(49.2  FIX )	;POP_KE_B
(10.4  FIX )	;POP_K21
(141.1  FIX )	;POP_K12
(0.469  FIX )	;POP_FV1_B
(1.0  FIX )	;POP_EMAX

$OMEGA 0 FIX

$SIGMA 
1.0 FIX


$EST METHOD=COND NSIG=3 SIGL=9 MAXEVALS=9999 PRINT=10 NOABORT

$TABLE  ID TIME AMT CMT MDV PRED RES WRES DV IPRED IRES IWRES Y NOAPPEND NOPRINT FILE=sdtab

$TABLE  ID LAMBDA0 LAMBDA1 W0 K1 K2 IC50 IC50COMBO KA_A KE_A FV1_A KA_B KE_B K21 K12 FV1_B EMAX NOAPPEND NOPRINT FILE=patab


